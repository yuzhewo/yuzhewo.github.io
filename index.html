<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><title>幻城 | 虚幻世界中的一员</title><meta name="description"/><!--+get_resource("blog_basic.css")--><link rel="stylesheet" type="text/css" href="/css/normalize.css"/><link rel="stylesheet" type="text/css" href="/css/pure-min.css"/><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"/><link rel="stylesheet" type="text/css" href="/css/style.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">幻城</h1><a id="logo" href="/">幻城</a><p class="description">虚幻世界中的一员</p></div><div id="nav-menu"><a href="/" class="current">首页</a><a href="/archives">归档</a><a href="/about">关于</a><a href="/atom.xml">订阅</a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h2 class="post-title"><a href="/2015/12/05/vsftpd控制用户禁止访问上级目录/">vsftpd控制用户禁止访问上级目录</a></h2><div class="post-meta">2015-12-05</div><span data-thread-key="2015/12/05/vsftpd控制用户禁止访问上级目录/" class="ds-thread-count"></span><div class="post-content">配置完FTP服务器后，用客户端登陆时，你会发现通过返回上级目录，可以一直浏览到根目录下，这是非常危险的行为，是我们平时设置服务器需要避免的状况，FTP账户需要做好权限控制，每个账户做到单一功能最小权限，例如有账户可以上传静态网页，有点账户可以下载备份文件，有的可以修改服务器代码等等……
如果想默认设置所有用户都不能离开家目录，那么可以通过配置1chroot_local_user=YES
可以通过配置对个别用户开启特权，需要添加配置12chroot_list_enable=YESchroot_list_file=/etc/vsftpd.chroot_list
在/etc/vsftpd.chroo</div><p class="readmore"><a href="/2015/12/05/vsftpd控制用户禁止访问上级目录/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/21/用Gitolite搭建服务器上的Git/">用Gitolite搭建服务器上的Git</a></h2><div class="post-meta">2015-11-21</div><span data-thread-key="2015/11/21/用Gitolite搭建服务器上的Git/" class="ds-thread-count"></span><div class="post-content">使用git作为版本控制工具，确实非常流行且好用，常用的git代码服务器有Github还是国内的Gitcafe和OSC都是很不错，可以免费存放一些开源的项目代码，对于私人项目，则需要支付一定的费用。同时对于代码安全隐私的考虑，有时需要搭建自己的私有git服务器，官方wiki有介绍,这里在整理一遍自己的搭建过程，供之后参看。
安装基础依赖包1# yum install perl openssh git
添加并切换到git用户12# useradd git# su - git
安装gitolite新建bin目录1$ mkdir bin
克隆gitolite程序代码1$ git clone https</div><p class="readmore"><a href="/2015/11/21/用Gitolite搭建服务器上的Git/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/21/Hexo程序archive页面数量设置/">Hexo程序archive页面数量设置</a></h2><div class="post-meta">2015-11-21</div><span data-thread-key="2015/11/21/Hexo程序archive页面数量设置/" class="ds-thread-count"></span><div class="post-content">使用Hexo搭建博客已经有一段时间了，当文章数量达到十几篇左右时，突然发觉archive归档页面仅显示10篇文章，并且出现了分页功能，对于我们这种个人博客，文章数量不会很多，所以更希望是在一页中完全展示出来，便于访问者查找感兴趣的文章。
在网上查找原因，发现此处的10条限制来自_config.yml文件中的配置，这个配置控制所有的分页配置，包括首页、归档页、tag分类页面。1per_page: 10
如果我们想对上面三个页面做独立的配置，需要安装插件进行功能支持。

hexo-generator-index
hexo-generator-archive
hexo-generator-tag

</div><p class="readmore"><a href="/2015/11/21/Hexo程序archive页面数量设置/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/20/npm切换淘宝镜像源/">npm切换淘宝镜像源</a></h2><div class="post-meta">2015-11-20</div><span data-thread-key="2015/11/20/npm切换淘宝镜像源/" class="ds-thread-count"></span><div class="post-content">镜像使用方法（三种办法任意一种都能解决问题，建议使用第三种，将配置写死，下次用的时候配置还在）:
1.通过config命令12npm config set registry https://registry.npm.taobao.org npm info underscore （如果上面配置正确这个命令会有字符串response）
2.命令行指定1npm --registry https://registry.npm.taobao.org info underscore
3.编辑 ~/.npmrc 加入下面内容1registry = https://registry.npm.taobao.or</div><p class="readmore"><a href="/2015/11/20/npm切换淘宝镜像源/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/12/快速了解和学习Unix-Linux下Shell（二）/">快速了解和学习Unix/Linux下Shell（二）</a></h2><div class="post-meta">2015-11-12</div><span data-thread-key="2015/11/12/快速了解和学习Unix-Linux下Shell（二）/" class="ds-thread-count"></span><div class="post-content">这篇文章是快速了解和学习Unix/Linux下Shell的第二部分，前一部分参考快速了解和学习Unix/Linux下Shell（一）。
一、Shell转义及变量替换1.转义字符、变量、命令替换如果表达式中包含转义字符，Shell会把转义字符替换成对应的含义。如果表达式中包含被双引号括住的变量，Shell使用变量值替换变量名，如：
1234#!/bin/basha=10echo -e &quot;Value of a is $a \n&quot;
注意:echo的选项-e代表对转义字符进行替换，-E代表不替换转义字符（默认情况），-n代表禁止替换换行符，以上命令会得到下面结果，1Value of a is 10
如</div><p class="readmore"><a href="/2015/11/12/快速了解和学习Unix-Linux下Shell（二）/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/09/CentOS下通过yum命令安装mongodb/">CentOS下通过yum命令安装mongodb</a></h2><div class="post-meta">2015-11-09</div><span data-thread-key="2015/11/09/CentOS下通过yum命令安装mongodb/" class="ds-thread-count"></span><div class="post-content">MongoDB中发布了新的稳定版本3.0有很多重大的改进。本教程将帮助您在CentOS、RHEL和Fedora的系统安装3.0.x版本的MongoDB。
这个版本主要特点：

引入了插件式存储引擎的API，允许第三方开发存储引擎引入了WiredTiger存储引擎的支持。关于更新和插入数据增加了更多的一致性该MMAPv1存储引擎增加了收藏级锁的支持在MongoDB的3.0，副本集最多可以有50个成员。各种增强功能集群。

第1步：添加的MongoDB的yum源信息按您的要求的MongoDB的版本和系统架构,将下面的yum软件库的配置内容写入/etc/yum.repos.d/mongodb.rep</div><p class="readmore"><a href="/2015/11/09/CentOS下通过yum命令安装mongodb/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/07/为PHP设置nginx服务器环境变量/">为PHP设置nginx服务器环境变量</a></h2><div class="post-meta">2015-11-07</div><span data-thread-key="2015/11/07/为PHP设置nginx服务器环境变量/" class="ds-thread-count"></span><div class="post-content">设置环境变量常见的地方为区分开发环境/生产环境，或者定义一些数据库的帐号密码
指令设置当前环境变量为develop1fastcgi_param RUNTIME_ENVIROMENT 'develop'
数据库帐号密码12fastcgi_param MYSQL_USERNAME 'root'fastcgi_param MYSQL_PASSWORD 'root'
配置文件格式(全局模式)在fastcgi_params文件中配置123fastcgi_param RUNTIME_ENVIROMENT 'develop';fastcgi_param MYSQL_USERNAME 'root';fastc</div><p class="readmore"><a href="/2015/11/07/为PHP设置nginx服务器环境变量/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/05/快速了解和学习Unix-Linux下Shell（一）/">快速了解和学习Unix/Linux下Shell（一）</a></h2><div class="post-meta">2015-11-05</div><span data-thread-key="2015/11/05/快速了解和学习Unix-Linux下Shell（一）/" class="ds-thread-count"></span><div class="post-content">一、Shell简介Shell源于UnixShell，本身是一个用C语言编写的程序，它是用户使用Uninx/Linux的桥梁，是用户与Unix/Linux交互主要的交互界面和工具，学习使用Shell首先需要具备一定的Unix/Lunix基础。
Shell虽然是Unix的第一个脚本语言但是它一直被忽略，是一个不受重视的脚本语言，不过Shell是非常优秀且独具特色的一种脚本语言，它结合了延展性与效率，并且在Unix/Linux的发展过程中不断的被改良，使它多年来能与很多新兴的的脚本语言保持抗衡。Shell需要依赖其他应用程序才能完成大部分的工作，这或许是它的缺陷或许不是，但它长处是：简洁的标记方式，</div><p class="readmore"><a href="/2015/11/05/快速了解和学习Unix-Linux下Shell（一）/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/04/Centos配置iptables防火墙/">Centos配置iptables防火墙</a></h2><div class="post-meta">2015-11-04</div><span data-thread-key="2015/11/04/Centos配置iptables防火墙/" class="ds-thread-count"></span><div class="post-content">iptables是一个配置Linux内核防火墙的命令行工具，是netfilter项目的一部分。术语iptables也经常代指该内核级防火墙。iptables 可以直接配置，也可以通过许多前端和图形界面配置。iptables用于ipv4，ip6tables用于ipv6。
基本概念iptables 可以检测、修改、转发、重定向和丢弃 IPv4 数据包。过滤 IPv4 数据包的代码已经内置于内核中，并且按照不同的目的被组织成 表 的集合。表 由一组预先定义的 链 组成，链 包含遍历顺序规则。每一条规则包含一个谓词的潜在匹配和相应的动作（称为 目标），如果谓词为真，该动作会被执行。也就是说条件匹配。
</div><p class="readmore"><a href="/2015/11/04/Centos配置iptables防火墙/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2015/11/03/修改gitlab使用现有nginx服务及502问题解决/">修改gitlab使用现有nginx服务及502问题解决</a></h2><div class="post-meta">2015-11-03</div><span data-thread-key="2015/11/03/修改gitlab使用现有nginx服务及502问题解决/" class="ds-thread-count"></span><div class="post-content">通过gitlab官方源安装好gitlab之后，程序包中会自带一个nginx服务器，gitlab本身消耗系统资源严重，理论上最好单独部署在一台服务器上，但是为了节约成本，也会跟其他服务共用服务器，如果之前机器上就有nginx服务则会冲突，可以修改配置，使用已经存在的nginx。
修改gitlab使用现有nginx服务修改gitlab.rb配置文件123456789[root@yuzhewo ~]# vim /etc/gitlab/gitlab.rb 在配置文件中搜索 /# nginx# nginx['enable'] = true# nginx['client_max_body_size'] =</div><p class="readmore"><a href="/2015/11/03/修改gitlab使用现有nginx服务及502问题解决/">阅读更多</a></p></div><div class="page-navigator"><a href="/page/2/" class="next">下一页</a></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="widget-title">分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/业余爱好/">业余爱好</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/">服务器相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程基础/">编程基础</a></li></ul></div><div class="widget"><div class="widget-title">标签</div><div class="tagcloud"><a href="/tags/taobao/" style="font-size: 15px;">taobao</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/rewrite/" style="font-size: 15px;">rewrite</a> <a href="/tags/Octopress/" style="font-size: 15px;">Octopress</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/yum/" style="font-size: 15px;">yum</a> <a href="/tags/gitlab/" style="font-size: 15px;">gitlab</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/Gitolite/" style="font-size: 15px;">Gitolite</a> <a href="/tags/XML/" style="font-size: 15px;">XML</a> <a href="/tags/CDATA/" style="font-size: 15px;">CDATA</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/php-input/" style="font-size: 15px;">php://input</a> <a href="/tags/HTTP-RAW-POST-DATA/" style="font-size: 15px;">HTTP_RAW_POST_DATA</a> <a href="/tags/archive/" style="font-size: 15px;">archive</a> <a href="/tags/maupassant/" style="font-size: 15px;">maupassant</a> <a href="/tags/CNZZ/" style="font-size: 15px;">CNZZ</a> <a href="/tags/centos/" style="font-size: 15px;">centos</a> <a href="/tags/iptables/" style="font-size: 15px;">iptables</a> <a href="/tags/CentOS/" style="font-size: 15px;">CentOS</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/vsftpd/" style="font-size: 15px;">vsftpd</a> <a href="/tags/ftp/" style="font-size: 15px;">ftp</a></div></div><div class="widget"><div class="widget-title">最新文章</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2015/12/05/vsftpd控制用户禁止访问上级目录/">vsftpd控制用户禁止访问上级目录</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/21/用Gitolite搭建服务器上的Git/">用Gitolite搭建服务器上的Git</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/21/Hexo程序archive页面数量设置/">Hexo程序archive页面数量设置</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/20/npm切换淘宝镜像源/">npm切换淘宝镜像源</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/12/快速了解和学习Unix-Linux下Shell（二）/">快速了解和学习Unix/Linux下Shell（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/09/CentOS下通过yum命令安装mongodb/">CentOS下通过yum命令安装mongodb</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/07/为PHP设置nginx服务器环境变量/">为PHP设置nginx服务器环境变量</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/05/快速了解和学习Unix-Linux下Shell（一）/">快速了解和学习Unix/Linux下Shell（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/04/Centos配置iptables防火墙/">Centos配置iptables防火墙</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/03/修改gitlab使用现有nginx服务及502问题解决/">修改gitlab使用现有nginx服务及502问题解决</a></li></ul></div><div class="widget"><div class="comments-title">最近评论</div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title">友情链接</div><ul><a href="http://www.baidu.com/" title="百度" target="_blank" rel="external">百度</a></ul><ul><a href="http://www.qq.com/" title="腾讯" target="_blank" rel="external">腾讯</a></ul><ul><a href="http://www.sina.com/" title="新浪" target="_blank" rel="external">新浪</a></ul></div></div></div></div><div id="footer">© <a href="/" rel="nofollow">幻城.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a><a id="rocket" href="#top" class="show"></a></div></div></body><script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/totop.js" type="text/javascript"></script><script src="/js/fancybox.pack.js" type="text/javascript"></script><link rel="stylesheet" href="/css/jquery.fancybox.css" type="text/css"><script>$(document).ready(function() {
  $("img").wrap(function() {
    if ($(this).hasClass('nofancybox')) return;
    return '<a href="' + $(this).attr("src") + '" rel="group" />'});
});</script><script>$(document).ready(function() {
  $("a[href$='.jpg'],a[href$='.png'],a[href$='.gif']").attr('rel', 'gallery').fancybox({
   helpers : {
   title: { type: 'inside'}
   },
   afterLoad: function(){
   this.title = this.title + ' ' + $(this.element).find('img').attr('alt');
   }
 });
});
</script><script>var duoshuoQuery = {short_name:'yuzhewo'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><div class="analytics"><script>var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cspan id='cnzz_stat_icon_1256688773'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1256688773%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></div></html>